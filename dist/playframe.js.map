{"version":3,"file":"playframe.js","sources":["../node_modules/@playframe/oversync/index.js","../node_modules/@playframe/evolve/index.js","../node_modules/@playframe/statue/index.js","../node_modules/@playframe/component/index.js","../node_modules/@playframe/h/index.js","../node_modules/@playframe/shadom/index.js","../node_modules/@playframe/router/index.js","../index.js"],"sourcesContent":["// Generated by CoffeeScript 2.3.2\n// ![PlayFrame](https://avatars3.githubusercontent.com/u/47147479)\n// # OverSync\n\n// ###### 0.4 kB Frame Rendering Engine\n\n// ## Installation\n// ```sh\n// npm install --save @playframe/oversync\n// ```\n\n// ## Functionality Overview\n// ```js\n// import oversync from '@playframe/oversync'\n\n// const sync = oversync(Date.now, requestAnimationFrame)\n// ```\n\n// Each method schedules given function\n// to be executed in specific time and order\n\n// ```js\n// sync.next(fn) // events handling and dom read\n// sync.catch(fn) // error handling\n// sync.then(fn) // data work is done here\n// sync.finally(fn) // finilizing data\n// sync.render(fn) // dom manipulation\n\n// // Actual requestAnimationFrame callback\n// // No work should be done here\n// sync.frame(fn)\n// ```\n\n// #### Execution strategy\n// Render a frame_0 first,\n// then request a new frame_1 and immediately do work.\n// After work is done VM is idling for up to 10ms\n// until frame callback is fired and frame_1 finally rendered.\n// Any event occuring after work is done\n// but before frame_1 is rendered will schedule actual work\n// to be done onlly after frame_1 is rendered\n\n// ```\n// 1ms Request frame_0 and setTimeout(work_for_frame_1)\n// 2ms frame_0 is rendered by browser\n// 3ms Request frame_1\n// 4ms work_for_frame_1: read dom, do work, write dom\n// ... idle\n// 8ms Click: sync.next(click_handler) for frame_2\n// ... idle\n// 10ms Fetch: sync.then(fetch_handler) for frame_2\n// ...idle\n// 15ms Animation callback: setTimeout(work_for_frame_2)\n// 16ms frame_1 is rendered\n// 17ms Request frame_2\n// 18ms work_for_frame_2: read dom, do work, write dom\n// ...\n// ```\n\n// ## Annotated Source\n// Let's define a higher order function\n// that would take a `now` timestamp function,\n// scheduling `next` function and optionally\n// a list `steps` of desired execution order and method names\n// and an optional `step` method name.\nvar delta, pusher, runner, scheduler;\n\nmodule.exports = (now, next, steps = ['next', 'catch', 'then', 'finally', 'render'], step = 'frame') => {\n  var delta_runner, push_and_run, schedule, step_ops, steps_ops, sync;\n  // For each step we would prepare and empty array\n  step_ops = [];\n  steps_ops = steps.map(() => {\n    return [];\n  });\n  // For measuring time deltas we would have a fancy runner function\n  delta_runner = delta(now)(runner);\n  // `schedule` function for requesting next frame\n  // in which we would run our `frame` operations and\n  // schedule work for the rest of the steps\n  schedule = scheduler(next)(() => {\n    var run;\n    run = delta_runner();\n    run(step_ops);\n    return setTimeout(() => {\n      return steps_ops.forEach(run);\n    });\n  });\n  // A pusher function that will `schedule` on every push\n  push_and_run = pusher(schedule);\n  // Dynamically creating methods that would push operations\n  // and schedule execution and returning `sync`\n  sync = {};\n  sync[step] = push_and_run(step_ops);\n  steps.forEach((step, i) => {\n    return sync[step] = push_and_run(steps_ops[i]);\n  });\n  return sync;\n};\n\n// #### Abstract functions\n\n// Our `scheduler` is creating a throttled `schedule`\nscheduler = (next) => {\n  return (f) => {\n    var _scheduled, g;\n    _scheduled = false;\n    g = (x) => {\n      _scheduled = false;\n      return f(x);\n    };\n    return () => {\n      if (!_scheduled) {\n        _scheduled = true;\n        next(g);\n      }\n    };\n  };\n};\n\n// This `pusher` is creating a function that will run `task`\n// before pushing `op` to `ops`\npusher = (task) => {\n  return (ops) => {\n    return (op) => {\n      task();\n      ops.push(op);\n    };\n  };\n};\n\n// Feeding timestamps produced by `now` to a given `f`\n// like our `runner`\ndelta = (now) => {\n  return (f) => {\n    var _prev_ts;\n    _prev_ts = now();\n    return () => {\n      var ts;\n      return f({\n        delta: (ts = now()) - _prev_ts,\n        ts: (_prev_ts = ts)\n      });\n    };\n  };\n};\n\n// This runner will feed `x` to a list of given `ops`.\n// It will recover if any operation fails.\n// Clearing `ops` list at the end\nrunner = (x) => {\n  return (ops) => {\n    var e, i, length, recover;\n    i = 0;\n    // Rechecking length in outer loop\n    // could push more ops while running\n    while (i < (length = ops.length)) {\n      try {\n        while (i < length) {\n          ops[i++](x);\n        }\n      } catch (error) {\n        e = error;\n        console.error(e);\n        if (recover = ops[i - 1].r) { // recovering\n          recover(e);\n        }\n      }\n    }\n    ops.length = 0; // mutating ðŸ‘¹\n  };\n};\n","// Generated by CoffeeScript 2.3.2\n// ![PlayFrame](https://avatars3.githubusercontent.com/u/47147479)\n// # Evolve\n\n// ###### 0.16 kB Deep calling assign\n\n// ## Installation\n// ```sh\n// npm install --save @playframe/evolve\n// ```\n\n// ## Usage\n// ```js\n// import evolve from '@playframe/evolve'\n\n// const props = {onclick: (event)=> fetch()}\n\n// const clickLogger = { onclick: (handler)=>(e)=>\n//   console.log(e)\n//   handler && handler(e);\n// }\n\n// const loggedClicksProps = evolve(props, clickLogger);\n// ```\n\n// ## Annotated Source\n\n// Caching `Array.isArray` for perf\nvar evolve, isArray;\n\n({isArray} = Array);\n\n// Exporting a deep assign that passes old values to functions\nmodule.exports = evolve = (base, upgrade) => {\n  var evolved, k, type, v;\n  evolved = {...base};\n  for (k in upgrade) {\n    v = upgrade[k];\n    type = typeof v;\n    evolved[k] = type === 'function' ? v(base[k]) : type === 'object' && !isArray(v) ? evolve(base[k], v) : v;\n  }\n  return evolved;\n};\n","// Generated by CoffeeScript 2.3.2\n  // ![PlayFrame](https://avatars3.githubusercontent.com/u/47147479)\n  // # Statue\n\n  // ###### 0.4 kb Art of functional State\n\n  // ## Installation\n  // ```sh\n  // npm install --save @playframe/statue\n  // ```\n\n  // ## Description\n  // Statue is a [Redux](https://github.com/reduxjs/redux)\n  // like functional state manegement library that lets you define\n  // and access actions right inside of your state. So you could\n  // describe a deeply nested state tree with nested actions\n  // in one simple object.\n\n  // To update state, action could return a new object\n  // that has one or more properties.\n  // This will produce a new state with those properties updated.\n\n  // Another option is to mutate a state object passed to your function.\n  // Mutation will be detected and this will produce a new state as well.\n  // Returned value is ignored in this case.\n  // If you are writing a performance demanding reducer,\n  // please use this mutation trick and define the hottest property as\n  // the first one in your initial state for faster checking.\n\n  // If you don't want to update state, please make sure you action\n  // returns something\n  // [falsy](https://developer.mozilla.org/en-US/docs/Glossary/Falsy)\n  // or the same state that was passed to it\n\n  // To work with state directly you can do\n  // ```js\n  // // to update the state\n  // state._(updated)\n\n  // // to read the latest state\n  // state = state._()\n\n  // // to turn a function into a reducer\n  // state._.new_action = state._( (x, state)=> state.x = x )\n  // ```\n  //  Statue also cares not to send too many updates\n  // from child to parent branches\n  // ## Usage\n  // ```js\n  // import statue from '@playframe/statue'\n  // const state = statue({\n  //   i: 0,\n  //   _: {\n  //     increment: (x, state)=> i: state.i + 1,\n  //     incrementBy: (n)=>(event, state)=> state.i += n // mutating\n  //   },\n  //   subState: {\n  //     i: 0,\n  //     _: {\n  //       increment: (x, state)=> i: state.i + 1\n  //     }\n  //   }\n  //   },\n  //   setTimeout,\n  //   (newState)=> {\n  //     console.log('Counter is:', newState.i)\n  //     console.log('Subcounter is:', newState.subState.i)\n  //   }\n  // )\n  // for(let j = 0; j < 100; j++){\n  //   state.subState._.increment()\n  //   state.subState._.increment()\n  //   state._.increment()\n  // }\n  // // Logs only once\n  // //> Counter is: 100\n  // //> Subcounter is: 200\n  // // Will increment by 10 and log in console on every click\n  // $('button').click( state._.incrementBy(10) )\n  // ```\n  // ## Annotated Source\n  // Caching static functions from `Object`\nvar assign, create, is_function, keys, statue,\n  hasProp = {}.hasOwnProperty;\n\n({assign, create, keys} = Object);\n\nis_function = (f) => {\n  return typeof f === 'function';\n};\n\n// Let's define a function that takes a takes `state_actions`\n// as an initial state and its reducers (actions)\n// defined under `_` (underscore) property.\n// Our function also takes `level_up` or 'subscribe' function\n// that will be called when state updates. Most sertainly we don't\n// want to update the whole state tree every time nested leaf updates,\n// so we also pass a `delayed` function that will help debounce\n// parent update\nmodule.exports = statue = (state_actions, delayed, level_up) => {\n  /*                       state._.actions\n                                 ]_[.state._.actions\n                                 [_]      ]_[.\n                                 [_]      [_]\n  */\n  var _nested, _scheduled, _state, action, actions, delay_nested, inject_state, k, reset, save_state, schedule, update_parent, update_state, v;\n  actions = state_actions._;\n  _state = state_actions; // _closure\n  _scheduled = false; // _closure\n  _nested = reset = () => {\n    return _nested = reset; // reset _nested\n  };\n  \n  // delaying child state updates\n  delay_nested = (f) => {\n    _nested = ((_nested) => {\n      return () => {\n        _nested();\n        f();\n      };\n    })(_nested);\n    schedule();\n  };\n// recursive statue if there nested actions\n  for (k in state_actions) {\n    v = state_actions[k];\n    if (v && v._) {\n      _state[k] = statue(v, delay_nested, ((k) => {\n        return (sub_state) => { // closure for k\n          return _state[k] = sub_state; // executes as _nested\n        };\n      })(k));\n    }\n  }\n  \n  // saving new state in closure\n  save_state = (state) => {\n    schedule();\n    return _state = state;\n  };\n  schedule = () => {\n    if (!_scheduled) {\n      _scheduled = true;\n      // lazy parent update\n      delayed(update_parent);\n    }\n  };\n  update_parent = () => {\n    var proto_state;\n    _scheduled = false;\n    proto_state = _state;\n    _state = create(null);\n    for (k in proto_state) {\n      // merging prototype chain state\n      _state[k] = proto_state[k];\n    }\n    _nested();\n    level_up(_state);\n  };\n  // This function is a little overloaded, it's a getter/setter but\n  // also is a function wrapper.\n  // You can access it like this `yourState._(updated)`.\n  // The wrapper will return a twin of your function\n  // that calls yours and passes a copy of latest state\n  // as the second argument. State will update, if the copy is mutated\n  // or a new object returned. If your function\n  // returns a new function, it will be wrapped in the same manner.\n  // So we support state updates for deeply curried functions.\n\n  // curry down or make state\n  _state._ = update_state = (arg) => {\n    if (is_function(arg)) {\n      return inject_state(arg);\n    } else {\n      if (arg) {\n        return save_state(assign(create(_state), arg));\n      } else {\n        return _state;\n      }\n    }\n  };\n  // `inject_state` is a higher order function that does the magic.\n  // It produces a cheap clone if current state by setting current\n  // state as its prototype. Please note that such a clone has no\n  // own properties, and all property accees falls back to its\n  // prototype. If we mutate such a clone, new properties are\n  // easily detected\n  inject_state = (f) => {\n    return (x) => {\n      var cloned, mutated, y;\n      // _state as prototype of cloned\n      cloned = create(_state);\n      y = f(x, cloned);\n      for (k in cloned) {\n        if (!hasProp.call(cloned, k)) continue;\n        // mutation detected\n        mutated = true;\n        save_state(cloned);\n        break;\n      }\n      if (is_function(y)) {\n        // recursevely currying down\n        return inject_state(y);\n      } else {\n        if (y && !mutated && y !== cloned && !y.then) { // not promise\n          save_state(assign(cloned, y));\n        }\n        return y;\n      }\n    };\n  };\n// Now let's wrap all of your actions and set under the `_` property.\n// That's it! You new state machine is ready!\n\n// bind actions to state\n  for (k in actions) {\n    action = actions[k];\n    update_state[k] = inject_state(action);\n  }\n  return _state;\n};\n","// Generated by CoffeeScript 2.3.2\n// ![PlayFrame](https://avatars3.githubusercontent.com/u/47147479)\n// # Component\n\n// ###### 0.3 kB Pure Stateful Styled Components\n\n// ## Installation\n// ```sh\n// npm install --save @playframe/component\n// ```\n\n// ## Description\n// Pure Functional Styled Web Components for\n// [PlayFrame](https://github.com/playframe/playframe). Components are\n// rendered independetly from the rest of the app. By using\n// [Shadow DOM](https://developers.google.com/web/fundamentals/web-components/shadowdom)\n// provided by\n// [ShaDOM](https://github.com/playframe/shadom)\n// we achieve scoped styling and simple css selectors.\n// Please consider using\n// [CSS Variables](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_variables)\n// for maximum animation performance and flexibility.\n\n// You can create instances manually and keep them in parent state or\n// you can register them with `fp.use` or `h.use` and create them dynamically.\n// To be able to identify the same dynamic component we use a unique\n// object `mkey` as a\n// [WeakMap](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap)\n// key. For a `UserView` Component actual `user` object would be a perfect\n// WeakMap key\n\n// ## Usage\n// ```js\n// import h from '@playframe/h'\n// import oversync from '@playframe/oversync'\n// import component from '@playframe/component'\n\n// const sync = oversync(Date.now, requestAnimationFrame)\n// const Component = component(sync)\n\n// export default myCounter = (Component)=>\n//   Component({\n//     seconds: 0,\n//     _: {\n//       reset: ()=> {seconds: 0}\n//       increment: (x, state)=> {\n//         state.seconds++\n//         setTimeout( state._.increment,\n//           (1000 - Date.now() % 1000) || 1000 )\n//       }\n//     }\n//   })((state)=>\n//     <my-counter style={ {'--border': state.border} }>\n//       <style>{`\n//         :host {\n//           display: block;\n//           border: var(--border, 0);\n//         }\n//       `}</style>\n//       <div>\n//         {props.children}\n//         <br/>\n//         {state.seconds} seconds passed\n//         <br/>\n//         <button onclick={state._.reset}> Reset </button>\n//       </div>\n//     </my-counter>\n//   )\n\n// // our Counter instance with initial props\n// const MyCounter = myCounter(Component)({seconds: 42})\n\n// // reset in 10 seconds\n// setTimeout(MyCounter._.reset, 10000)\n\n// const view = ()=>\n//   <MyCounter border=\"1px solid grey\">\n//     <h1>Hello</h1>\n//   </MyCounter>\n\n// // or we can register component as custom element\n// h.use({'my-counter': (props)=>\n//   let mkey = props && props.mkey\n//   makeMyCounter(Component)({mkey})(props)\n// })\n\n// // mkey is used as WeakMap key to cache our statefull component\n// const mkey = {uniqueObject: true}\n\n// const view = ()=>\n//   <my-counter mkey={mkey} border=\"1px solid grey\">Hello</my-counter>\n\n// ```\n\n// ## Annotated Source\n\n// We are going to use [statue](https://github.com/playframe/statue)\n// for managing state of our Component\nvar evolve, statue;\n\nevolve = require('@playframe/evolve');\n\nstatue = require('@playframe/statue');\n\n// How about using a tree of\n// [WeakMap](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap)\n// instances to cache our Component instances by `mkey`?\n// This allows us to cache our components aggresively because our `_cache`\n// will be cleaned automatically by Garbage Collector if `mkey` gets dereferenced\n\n// Let's export a higher order function that takes `sync` engine,\n// `state_actions` for statue and a pure `view` function.\nmodule.exports = (sync) => {\n  return (state_actions) => {\n    return (view) => {\n      var _cache;\n      _cache = new WeakMap;\n      return (upgrade) => {\n        var Component, _props, _rendering, _state, _v_dom, mkey, patch_shadow, render;\n        if ((mkey = upgrade && upgrade.mkey) && (Component = _cache.get(mkey))) {\n          return Component;\n        }\n        _v_dom = null;\n        _props = null;\n        _rendering = false;\n        _state = evolve(state_actions, upgrade);\n        // Creating a statue that will deliver the latest state on\n        // `sync.render` and patch shadow DOM if needed\n        _state = statue(_state, sync.render, (state) => {\n          _state = state;\n          if (!_rendering) {\n            patch_shadow();\n          }\n          _rendering = false;\n        });\n        // `patch_shadow` is responsible for producing new virtual DOM and using\n        // `patch` method for shadow DOM mutation provided by\n        // [ShaDOM](https://github.com/playframe/shadom).\n        patch_shadow = () => {\n          var patch;\n          ({patch} = _v_dom);\n          _v_dom = view(_state);\n          _v_dom.patch = patch;\n          patch(_v_dom);\n        };\n        render = () => {\n          var attr;\n          _v_dom = view(_state);\n          attr = _v_dom[1] || (_v_dom[1] = {});\n          attr.attachShadow || (attr.attachShadow = {\n            mode: 'open'\n          });\n        };\n        // Here we create our `Component` function that mimics your `view`\n        // function. But first it's checking if `props` are meant to update `_state`\n        Component = (props) => {\n          var k, v;\n          if (_v_dom) {\n            if (props !== _props) {\n// shallow equality check\n              for (k in props) {\n                v = props[k];\n                if (!(v !== _state[k])) {\n                  continue;\n                }\n                // updating state with props and rendering\n                _state = _state._(_props = props);\n                _rendering = true;\n                render();\n                break; // first run\n              }\n            }\n          } else {\n            _state = Object.assign(_state._(), _props = props);\n            render();\n          }\n          return _v_dom;\n        };\n        // Assigning high level methods from statue, adding instance to cache and our\n        // fresh `Component` is ready!\n        Component._ = _state._;\n        if (mkey) {\n          _cache.set(mkey, Component);\n        }\n        return Component;\n      };\n    };\n  };\n};\n","// Generated by CoffeeScript 2.3.2\n// ![PlayFrame](https://avatars3.githubusercontent.com/u/47147479)\n// # h\n\n// ###### 0.3 kB Virtual Dom Producer\n\n// ## Installation\n// ```sh\n// npm install --save @playframe/h\n// ```\n\n// ## Usage\n// ```js\n// import h from '@playframe/h'\n\n// // directly\n// h('a', {href: 'https://github.com/playframe/h'}, 'PlayFrame/h')\n\n// // JSX\n// const link = ()=>\n//   <a href=\"https://github.com/playframe/h\"> PlayFrame/h </a>\n// ```\n\n// ## Annotated Source\n\n// Creating a unique Symbol for distinction between Virtual Nodes\n// and plain Arrays\nvar VNODE, _registry, h, invoke;\n\nVNODE = Symbol('VNODE');\n\n_registry = {};\n\n// Our Virtual Node is produced from a list of arguments passed\n// to `h` function. Children are passed as tail of arguments,\n// but any of them could be wrapped in Array\n\n// ```js\n// h('div', {class: 's'}, child1, [ child2, child3 ], child4)`)\n// ```\n// To achieve no runtime overhead we will avoid creating a new object\n// for Virtual Node and new Array for children. We will just mark array\n// of passed arguments as a `VNODE` and return it as is.\n// This is compensated by a more advenced child walker used in\n// [@playframe/dom](https://github.com/playframe/dom)\nmodule.exports = h = (...a) => {\n  var component, name;\n  if (typeof (name = a[0]) === 'function') {\n    return invoke(...a);\n  } else if (component = _registry[name]) {\n    a[0] = component;\n    return invoke(...a);\n  } else {\n    a[VNODE] = true;\n    return a;\n  }\n};\n\nh.VNODE = VNODE;\n\n// Registering custom components like\n// `h.use({'my-component': MyComponent})`\nh.use = (components) => {\n  var k, v;\n  for (k in components) {\n    v = components[k];\n    _registry[k] = v;\n  }\n};\n\n// If the first argument of `h` function is a not a `'div'` but\n// your Component function, we will flatten the children and attach\n// them to `props`\ninvoke = (Component, props, ...children) => {\n  var child, flat, i, len;\n  if (children[0]) {\n    flat = props.children = [];\n    for (i = 0, len = children.length; i < len; i++) {\n      child = children[i];\n      if (!child[VNODE] && Array.isArray(child)) {\n        flat.push(...child);\n      } else {\n        flat.push(child);\n      }\n    }\n  }\n  return Component(props);\n};\n","// Generated by CoffeeScript 2.3.2\n// ![PlayFrame](https://avatars3.githubusercontent.com/u/47147479)\n// # ShaDOM\n\n// ###### 1.5 kB DOM + Shadow DOM Manipulation\n\n// ## Installation\n// ```sh\n// npm install --save @playframe/shadom\n// ```\n\n// ## Usage\n// ```js\n// import oversync from '@playframe/oversync'\n// import h from '@playframe/h'\n// import shadom from '@playframe/shadom'\n\n// const sync = oversync(Date.now, requestAnimationFrame)\n\n// const state = {}\n// const View = (state)=> <div></div> // h('div')\n\n// const render = shadom(sync)(document.body)\n\n// // to update DOM we do\n// render(View, state)\n// ```\n\n// ## Annotated Source\n\n// `@playframe/h` is required as peer dependency. We are importing\n// a `VNODE`\n// [Symbol](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol)\n// constant. Symbol can't be created twice in two different places.\n// It is important to use the same instance of `@playframe/h` acroass\n// your app\nvar ATTR, ELEMENT, EVENTS, FIRST_CHILD, KEYED, NAME, VNODE, _first_run, _sync, doc, emmit_remove, eventHandler, get_key, h, isArray, make_el, mutate_children, mutate_dom, patcher, remove_el, scan, set, set_attr;\n\n({VNODE} = h = require('@playframe/h'));\n\n({isArray} = Array);\n\ndoc = document;\n\n// Let's remind outselves our virtual dom data structure\n// `['div', {class: 's'}, children...]` to clarify the constants.\nNAME = 0;\n\nATTR = 1;\n\nFIRST_CHILD = 2;\n\n// Symbols are designed to assign metaproperties to existing\n// objects. Those properties are not occuring in `for` or `Object.keys`\n// iteration. They are also free from name conflicts. For example\n// different libraries can create own `Symbol('ELEMENT')` and use them\n// on the same object without any collision\nELEMENT = Symbol('ELEMENT');\n\nEVENTS = Symbol('EVENTS');\n\nKEYED = Symbol('KEYED');\n\n_sync = null;\n\n_first_run = true;\n\n// This function will schedule actual event handling at\n// the begging of the next work batch\neventHandler = (event) => {\n  var f;\n  f = event.currentTarget[EVENTS][event.type];\n  _sync.next(() => {\n    return f(event);\n  });\n};\n\n// We are exporting a higher order function that will take `sync` scheduler\n// and a `root` element. It will return a function that takes latest\n// `view` function and `state` and schedules vDOM producing and\n// DOM mutating\nmodule.exports = (sync) => {\n  return (root) => {\n    var _dom, _new_v_dom, _v_dom, render;\n    _sync = sync;\n    _v_dom = null;\n    _new_v_dom = null;\n    if (_dom = root.children[0]) {\n      _v_dom = scan(_dom);\n    }\n    render = () => {\n      _dom = mutate_dom(root, _dom, _new_v_dom, _v_dom);\n      _v_dom = _new_v_dom;\n    };\n    return (view, state) => {\n      _new_v_dom = view(state);\n      if (_first_run) { // render asap\n        render();\n        _first_run = false;\n      } else {\n        _sync.render(render);\n      }\n    };\n  };\n};\n\n// Reusing preexisting html nodes in `root` element. This will benefit\n// apps with server side pre-rendering\nscan = (el, NS) => {\n  var childNodes, i, m, ref, shadow, v_dom;\n  NS = el.namespaceURI || NS;\n  if (el.nodeType === 3) { // text\n    return el.nodeValue;\n  } else {\n    v_dom = h(el.nodeName.toLowerCase(), null);\n    ({childNodes} = (shadow = el.shadowRoot) ? (v_dom.patch = patcher(v_dom, el, shadow, NS), shadow) : el);\n    for (i = m = 0, ref = childNodes.length; m < ref; i = m += 1) {\n      v_dom.push(scan(childNodes[i]));\n    }\n    return v_dom;\n  }\n};\n\n// This function will take a DOM element `el` and its `parent` element.\n// Also it takes a new vDOM `vnode` and `old_vnode`. Their diff will\n// mutate `el`. `NS` is a XMLNS namespace for working with SVG or XHTML\nmutate_dom = (parent, el, vnode, old_vnode, NS) => {\n  var new_el, onupdate, patch, ref;\n  // console.log 'mutate_dom', vnode, old_vnode\n  if (vnode !== old_vnode) {\n    if ((old_vnode != null) && (vnode != null) && !old_vnode[VNODE] && !vnode[VNODE]) {\n      el.nodeValue = vnode; // text node\n    } else {\n      // for SVG or XHTML\n      NS = vnode && ((ref = vnode[ATTR]) != null ? ref.xmlns : void 0) || NS;\n      if ((vnode == null) || (old_vnode == null) || old_vnode[NAME] !== vnode[NAME]) {\n        // replace node\n        if (vnode != null) {\n          new_el = make_el(vnode, NS);\n          parent.insertBefore(new_el, el);\n        }\n        if (old_vnode != null) {\n          remove_el(parent, el);\n          _sync.next(() => {\n            return emmit_remove(old_vnode);\n          });\n        }\n        return new_el; // update node\n      } else {\n        if (patch = old_vnode.patch) {\n          vnode.patch = patch;\n          patch(vnode);\n        } else {\n          set_attr(el, vnode[ATTR], old_vnode[ATTR], NS);\n          mutate_children(el, vnode, old_vnode, NS);\n        }\n        if (onupdate = vnode[ATTR] && vnode[ATTR][_first_run ? 'oncreate' : 'onupdate']) {\n          onupdate(el);\n        }\n      }\n    }\n  }\n  return el;\n};\n\n// This function will compare and mutate children of given `el`.\n// Keyed updates are supported\nmutate_children = (el, vnode, old_vnode, NS) => {\n  var by_key, child, child_el, el_i, i, j, k, key, keyed, l, ll, old_child, old_key, old_keyed, replaced_el, replacement, sub_child, sub_i, sub_il, sub_j, sub_jl, v;\n  i = j = FIRST_CHILD;\n  sub_i = sub_j = sub_il = sub_jl = el_i = 0;\n  l = vnode.length;\n  ll = (old_vnode != null ? old_vnode.length : void 0) || 0;\n  by_key = false;\n  while (true) {\n    // 2 inline child walkers for performance reasons\n    // getting next child in ['div', {}, child, [child, child],...]\n    while (i <= l) {\n      child = vnode[i];\n      if ((child == null) || (child === true || child === false)) {\n        i++; // continue\n      } else if (child[VNODE] || !isArray(child)) {\n        i++;\n        break;\n      } else {\n        sub_il || (sub_il = child.length);\n        if (((sub_child = child[sub_i]) != null) && (sub_child !== true && sub_child !== false)) {\n          sub_i++;\n          child = sub_child;\n          break;\n        } else {\n          if (sub_i < sub_il) {\n            sub_i++;\n          } else {\n            sub_i = sub_il = 0;\n            i++;\n          }\n        }\n      }\n    }\n    key = get_key(child);\n    while (j <= ll) {\n      old_key = null;\n      old_child = old_vnode[j];\n      if ((old_child == null) || (old_child === true || old_child === false)) {\n        j++; // continue\n      } else if (old_child[VNODE] || !isArray(old_child)) {\n        j++;\n        old_key = get_key(old_child);\n        if (!(old_keyed && old_key && !old_keyed[old_key])) {\n          break;\n        }\n      } else {\n        sub_jl || (sub_jl = old_child.length);\n        if (((sub_child = old_child[sub_j]) != null) && (sub_child !== true && sub_child !== false)) {\n          sub_j++;\n          old_child = sub_child;\n          old_key = get_key(old_child);\n          if (!(old_keyed && old_key && !old_keyed[old_key])) {\n            break;\n          }\n        } else {\n          if (sub_j < sub_jl) {\n            sub_j++;\n          } else {\n            sub_j = sub_jl = 0;\n            j++;\n          }\n        }\n      }\n    }\n    if (!((child != null) || (old_child != null))) {\n      break;\n    }\n    child_el = el.childNodes[el_i];\n    if (!by_key && (key || old_key)) {\n      by_key = true; // switch to keyed mode\n      old_keyed = old_vnode && old_vnode[KEYED];\n      keyed = vnode[KEYED] = Object.create(null);\n    }\n    if (!(old_keyed && child && old_key !== key)) {\n      // direct mutation unless key mismatch\n      child_el = mutate_dom(el, child_el, child, old_child, NS);\n    } else {\n      // if there is key mismatch\n      // we will replace current dom node\n      // with an existing keyed or a new one\n      if (replacement = old_keyed[key]) {\n        replaced_el = mutate_dom(el, replacement[ELEMENT], child, replacement, NS);\n      } else {\n        replaced_el = make_el(child, NS);\n      }\n      el.insertBefore(replaced_el, child_el);\n      if (old_child) {\n        remove_el(el, child_el);\n        if (old_key) {\n          // emit remove if not reused\n          _sync.render(((old_key) => {\n            return () => { // old_key closure\n              if (old_keyed[old_key]) {\n                return emmit_remove(old_keyed[old_key]);\n              }\n            };\n          })(old_key));\n        } else {\n          emmit_remove(old_child);\n        }\n      }\n      child_el = replaced_el;\n    }\n    if (child != null) {\n      el_i++; // moving pointer to next DOM element\n      if (key) {\n        child[ELEMENT] = child_el;\n        keyed[key] = child;\n        old_keyed && (old_keyed[key] = null);\n      }\n    }\n  }\n  // end of loop\n  if (old_keyed) {\n// copying over unused cached keyed nodes\n    for (k in old_keyed) {\n      v = old_keyed[k];\n      if (v) {\n        keyed[k] = v;\n      }\n    }\n  }\n};\n\n// This function will create a new DOM element with its children\nmake_el = (vnode, NS) => {\n  var el, oncreate, shadow, shadow_props;\n  if (vnode[VNODE]) {\n    el = NS ? doc.createElementNS(NS, vnode[NAME]) : doc.createElement(vnode[NAME]);\n    set_attr(el, vnode[ATTR], null, NS);\n    if (shadow_props = vnode[ATTR] && vnode[ATTR].attachShadow) {\n      shadow = el.attachShadow(shadow_props);\n      vnode.patch = patcher(vnode, el, shadow, NS);\n      mutate_children(shadow, vnode, null, NS);\n    } else {\n      mutate_children(el, vnode, null, NS);\n    }\n    if (oncreate = vnode[ATTR] && vnode[ATTR].oncreate) {\n      oncreate(el);\n    }\n    return el;\n  } else {\n    return doc.createTextNode(vnode);\n  }\n};\n\n// Removing element from its parent\nremove_el = (parent, el) => {\n  parent.removeChild(el);\n};\n\nemmit_remove = (vnode) => {\n  var child, length, onremove;\n  ({length} = vnode);\n  while (length-- > 0) {\n    if (isArray(child = vnode[length])) {\n      emmit_remove(child);\n    }\n  }\n  if (onremove = vnode[ATTR] && vnode[ATTR].onremove) {\n    onremove();\n  }\n};\n\n// Comparing and setting attributes\nset_attr = (el, attr, old_attr, NS) => {\n  var k, old_v, v;\n  for (k in old_attr) {\n    old_v = old_attr[k];\n    if (!(attr && (attr[k] != null))) {\n      set(el, k, null, old_v, NS);\n    }\n  }\n  for (k in attr) {\n    v = attr[k];\n    old_v = k === 'value' || k === 'checked' ? el[k] : old_attr && old_attr[k];\n    if (v !== old_v) {\n      set(el, k, v, old_v, NS);\n    }\n  }\n};\n\nset = (el, name, value, old_value, NS) => {\n  var events, k, style, v;\n  if (name === 'key' || name === 'attachShadow') {\n\n  // skip\n  } else if (name === 'style') {\n    style = el[name];\n    if (typeof value === 'string') {\n      style.cssText = value;\n    } else {\n      if (typeof old_value === 'string') {\n        style.cssText = '';\n      } else {\n        value = {...value};\n        for (k in old_value) {\n          if (value[k] == null) {\n            value[k] = '';\n          }\n        }\n      }\n      for (k in value) {\n        v = value[k];\n        if (k.charCodeAt(0) === 45) { // starts with '-'\n          style.setProperty(k, v);\n        } else {\n          style[k] = v;\n        }\n      }\n    }\n  } else {\n    // starts with 'on', event listener\n    if (name.charCodeAt(0) === 111 && name.charCodeAt(1) === 110) {\n      name = name.slice(2);\n      events = el[EVENTS] || (el[EVENTS] = {});\n      old_value || (old_value = events[name]);\n      events[name] = value;\n      if (value) {\n        if (!old_value) {\n          el.addEventListener(name, eventHandler);\n        }\n      } else {\n        el.removeEventListener(name, eventHandler);\n      }\n    // attribute\n    } else if (name in el && (name !== 'list' && name !== 'type' && name !== 'draggable' && name !== 'spellcheck' && name !== 'translate') && !NS) {\n      el[name] = value != null ? value : value = '';\n    } else if ((value != null) && value !== false) {\n      el.setAttribute(name, value);\n    } else {\n      el.removeAttribute(name);\n    }\n  }\n};\n\n// Getting a key from a virtual node\nget_key = (vnode) => {\n  return vnode && vnode[ATTR] && vnode[ATTR].key;\n};\n\n// Creating a shadow DOM `patch` function \npatcher = (_old_vnode, el, shadow, NS) => {\n  return (vnode) => {\n    if (vnode !== _old_vnode) {\n      set_attr(el, vnode[ATTR], _old_vnode[ATTR], NS);\n      mutate_children(shadow, vnode, _old_vnode, NS);\n      _old_vnode = vnode;\n    }\n  };\n};\n","// Generated by CoffeeScript 2.3.2\n// ![PlayFrame](https://avatars3.githubusercontent.com/u/47147479)\n// # Router\n\n// ###### 1kB Trie Router for PlayFrame\n\n// ## Installation\n// ```sh\n// npm install --save @playframe/router\n// ```\n\n// ## Usage\n// ```js\n// import {h, app, route, mount, Component} from '@playframe/playframe'\n\n// route({\n//   counter: 1,\n//   _: {\n//     inc: (e, state)=> state.counter++,\n//     dec: (e, state)=> state.counter--\n//   },\n//   routes: {\n//     '/': ({state})=> <a href=\"/hello/world\"><h1>Link</h1></a>,\n//     '/counter': ({state})=> CounterView(state),\n//     '/hello/:name': ({state, param})=> <h1>Hello {param.name}!</h1>,\n//     '/*': ()=>  <h1>404</h1>\n//   }\n// })(\n//   mount(document.body)\n// )\n// ```\n\n// ## Source\nvar LEAF, NAMED, WILDCARD, _404, _Page, _fallback, _href, _props, _state, _subscribed, _sync, add_methods, doc, forest, get_trie, grow_trie, isArray, make_trie, match, set_Page, subscribe, view, walk_trie;\n\ndoc = this.document;\n\n({isArray} = Array);\n\nNAMED = Symbol('NAMED');\n\nWILDCARD = Symbol('WILD');\n\nLEAF = Symbol('LEAF');\n\nforest = new WeakMap;\n\n_sync = null;\n\n_state = null;\n\n_href = null;\n\n_props = null;\n\n_Page = null;\n\n_subscribed = false;\n\n_404 = () => {\n  return 404;\n};\n\n_fallback = () => {\n  return _Page = _404;\n};\n\nmodule.exports = view = (sync) => {\n  _sync = sync;\n  return (state, l) => {\n    var href;\n    _state = state;\n    ({href} = l || (l = location));\n    if (!_subscribed && doc) {\n      subscribe();\n      _subscribed = true;\n    }\n    if (href !== _href) {\n      set_Page(l);\n    }\n    if (!state._.push) {\n      add_methods();\n    }\n    _props.state = state;\n    return _Page(_props);\n  };\n};\n\nadd_methods = () => {\n  var hop;\n  hop = () => {\n    return _sync.next(() => {\n      set_Page(location);\n      _state._({});\n      _sync.frame(() => {\n        return scrollTo(0, 0);\n      });\n    });\n  };\n  _state._.push = (href) => {\n    history.replaceState({\n      height: document.body.clientHeight\n    }, '');\n    history.pushState({}, '', href);\n    hop();\n  };\n  _state._.replace = (href) => {\n    history.replaceState({}, '', href);\n    hop();\n  };\n};\n\nsubscribe = () => {\n  doc.addEventListener(doc.ontouchstart ? 'touchstart' : 'click', (event) => {\n    var el;\n    el = (typeof event.composedPath === \"function\" ? event.composedPath()[0] : void 0) || event.target;\n    while (el && el.nodeName !== 'A') {\n      el = el.parentNode;\n    }\n    if (!el || event.button !== 0 || event.metaKey || event.altKey || event.ctrlKey || event.shiftKey || el.target === '_blank' || el.origin !== location.origin || el.getAttribute('href').startsWith('#')) {\n      return;\n    }\n    event.preventDefault();\n    return _state._.push(el.href);\n  });\n  addEventListener('popstate', ({state}) => {\n    var style;\n    ({style} = doc.body);\n    style.minHeight = `${(state != null ? state.height : void 0)}px`;\n    set_Page(location);\n    _state._({});\n    return setTimeout((() => {\n      return _sync.render(() => {\n        return style.minHeight = '';\n      });\n    }), 1000);\n  });\n};\n\nset_Page = (l) => {\n  var hash, href, i, j, k, len, pair, pathname, query, ref, search, v;\n  ({href, pathname, search, hash, query} = l);\n  _href = href;\n  if (!query) {\n    query = {};\n    ref = search.slice(1).split('&');\n    for (i = j = 0, len = ref.length; j < len; i = ++j) {\n      pair = ref[i];\n      [k, v] = pair.split('=');\n      query[k] = v;\n    }\n  }\n  match(get_trie(_state.routes), pathname);\n  _props = {..._props, pathname, search, query, hash};\n};\n\nget_trie = (routes) => {\n  var trie;\n  if (!(trie = forest.get(routes))) {\n    forest.set(routes, trie = make_trie(routes));\n  }\n  return trie;\n};\n\nmatch = (trie, pathname) => {\n  var param, path;\n  path = pathname.split('/');\n  param = {};\n  return walk_trie(param, trie, path, 1, _fallback);\n};\n\nwalk_trie = (param, trie, path, position, fallback) => {\n  var Page, named, step, sub_trie;\n  fallback = trie[WILDCARD] || fallback;\n  if (step = path[position]) {\n    if (sub_trie = trie[step]) {\n      walk_trie(param, sub_trie, path, position + 1, fallback);\n    } else if (named = trie[NAMED]) {\n      named(param, trie, path, position, () => {\n        return fallback(param, trie, path, position);\n      });\n    } else {\n      fallback(param, trie, path, position);\n    }\n  } else if (Page = trie[LEAF]) {\n    _props = {param};\n    _Page = Page;\n  } else {\n    fallback(param, trie, path, position);\n  }\n};\n\nmake_trie = (routes) => {\n  var k, pos, route, trie, v;\n  trie = {};\n  for (k in routes) {\n    v = routes[k];\n    route = k.split('/');\n    pos = 0;\n    if ((route[1] != null) && !route[0]) {\n      pos = 1;\n    }\n    if (typeof v === 'object') {\n      // Nested router\n      Object.assign(grow_trie(trie, route, pos), get_trie(v)); // function Page\n    } else {\n      grow_trie(trie, route, pos, v);\n    }\n  }\n  return trie;\n};\n\ngrow_trie = (trie, route, position, Page) => {\n  var first_char, name, named_trie, step;\n  if (step = route[position]) {\n    first_char = step.charCodeAt(0);\n    if (first_char === 58) { // starts with `:`\n      name = step.slice(1);\n      named_trie = trie[NAMED] || (trie[NAMED] = (param, trie, path, position, fallback) => {\n        fallback = trie[WILDCARD] || fallback;\n        param = {...param};\n        param[name] = path[position];\n        walk_trie(param, named_trie, path, position + 1, fallback);\n      });\n      return grow_trie(named_trie, route, position + 1, Page);\n    } else if (first_char === 42) { // starts with `*`\n      trie[WILDCARD] = (param, trie, path, position) => {\n        var wild;\n        wild = path.slice(position);\n        _props = {param, wild};\n        _Page = Page;\n      };\n      return trie;\n    } else {\n      return grow_trie((trie[step] || (trie[step] = {})), route, position + 1, Page);\n    }\n  } else {\n    if (Page) {\n      trie[LEAF] = Page;\n    }\n    return trie;\n  }\n};\n","// Generated by CoffeeScript 2.4.1\n// # ![PlayFrame](https://avatars3.githubusercontent.com/u/47147479)\n\n// ###### 4 kB 60 fps Functional SPA/PWA Framework\n\n// [framesync](https://github.com/Popmotion/popmotion/tree/master/packages/framesync) +\n// [React](https://github.com/facebook/react/) +\n// [Redux](https://github.com/reduxjs/redux) +\n// [router](https://github.com/playframe/router) +\n// [Shadow Dom](https://developers.google.com/web/fundamentals/web-components/shadowdom)\n// alike minimalistic functional framework built to be able to update DOM\n// up to 60 times per second.\n// [Components](https://github.com/playframe/component) can\n// rerender independently from the rest of the app and\n// only if their local state is changed\n\n// High-performance server-side rendering for PWA support is coming soon\n\n// ##### SPA Example\n// ```js\n// import {h, app, mount} from '@playframe/playframe'\n// app({\n//   // state\n//   counter: 1,\n//   // actions\n//   _: {\n//     inc: (e, state)=> state.counter++, // mutating\n//     dec: (e, {counter})=> ({counter: counter - 1}) // or returning object\n//   }\n// })( // view\n//   (state)=>\n//     <div>\n//       <h1>Counter: {state.counter}</h1>\n//       <button onclick={state._.inc}>Increment</button>\n//       <button onclick={state._.dec}>Decrement</button>\n//     </div>\n//   }\n// )( // dom container\n//   mount(document.body)\n// )\n// ```\n\n// ##### Routed Example\n// ```js\n// import {h, route, mount} from '@playframe/playframe'\n// route({\n//   greeting: \"Hello\",\n//   routes: {\n//     '/': ()=> <a href=\"/hello/world\"><h1>Link</h1></a>,\n//     '/hello/:name': ({state, param})=> <h1>{state.greeting} {param.name}!</h1>,\n//     '/*': ()=>  <h1>404</h1>\n//   }\n// })(\n//   mount(document.body)\n// )\n// ```\n\n// ## Installation\n// Using npm or yarn:\n// ```sh\n// npm i @playframe/playframe\n// ```\n\n// Using UNPKG for es6 bundle:\n// ```uri\n// https://unpkg.com/@playframe/playframe@1.0.2/dist/playframe.min.js\n// ```\n\n// ## API\n\n// #### `PlayFrame.app(state_actions)(View)(container)`:\n// Creates a new `app` and mounts it into `container`. Initial `state_actions` will\n// create a [`statue`](https://github.com/playframe/statue)\n// instance that will be passed into the `View` function. If state is modified by\n// actions, app is rerendered. Returns `statue` instance\n\n// #### `PlayFrame.route(state_actions)(container)`:\n// Creates a new [routed](https://github.com/playframe/router)\n// app and mounts it into `container`. Initial `state_actions`\n// should have a `routes` property. Returns `statue` instance\n\n// #### `PlayFrame.mount(domNode)`:\n// Creates a [ShaDOM](https://github.com/playframe/shadom)\n// container for managing DOM mutations\n\n// #### `PlayFrame.h(nodeName, attributes, children...)`:\n// Returns a lightweight [Virtual DOM](https://github.com/playframe/h)\n// node. If you are using JSX you might need\n// `[\"@babel/plugin-transform-react-jsx\", { \"pragma\": \"h\" }]`. Or you could use\n// [rollup](https://github.com/rollup/rollup)\n// with [buble](https://github.com/rollup/rollup-plugin-buble)({jsx: 'h'})\n\n// #### `PlayFrame.Component(state_actions)(View)(upgrade)(props)`:\n// Creates a [Stateful Web Component](https://github.com/playframe/component)\n// function for given `state_actions`, `View` and\n// `upgrade`. `upgrade` will extend `state_actions` by using\n// [`evolve`](https://github.com/playframe/evolve) function. Passing `props` to\n// Component function will return Virtual DOM nodes. Styles are incaplulated by\n// [Shadow Dom](https://developers.google.com/web/fundamentals/web-components/shadowdom).\n// Example:\n// ```js\n// const createHover = PlayFrame.Component({\n//   i: 0,\n//   _: {add: (e, state)=> state.i++}\n// })((state)=>\n//   <my-hover onhover={state._.add}>\n//     <style>{`\n//       :host {\n//         display: block;\n//         border: ${state.i}px;\n//       }\n//     `}</style>\n//     <h6>This was hovered {state.i} time(s)</h6>\n//   </my-hover>\n// )\n// let Hover = createHover()\n// let View = (state)=> <Hover></Hover>\n// ```\n\n// #### `PlayFrame.use(pureComponents)`:\n// Registering custom elements for Pure Components. Example:\n// ```js\n// PlayFrame.use({\n//   'custom-heading': (props)=> <h1>{props.children}</h1>\n// })\n// const View = ()=> <custom-heading>Hello!</custom-heading>\n// ```\n\n// #### `PlayFrame.reuse(statefulComponents)`:\n// Registering custom elements for\n// [Stateful Components](https://github.com/playframe/component).\n// To reuse the same Component\n// instances we cache them in\n// [WeakMap](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap)\n// by `mkey` property which needs to be an object, not a primitive value.\n// Example:\n// ```js\n// PlayFrame.reuse({\n//   'my-hover': createHover\n// })\n// const hovers = [{}, {}, {}]\n// const View = (state)=> hovers.map((obj)=>\n//   <my-hover mkey={obj}></my-hover>\n// )\n// ```\n\n// ### Internal functions\n\n// #### `PlayFrame.statue(state_actions, delayed, subscribe)`:\n// Creates a [statue](https://github.com/playframe/shadom) state machine\n// for a `state_actions` object. `delayed` will throttle state updates and\n// latest state will be passed to `subscribe` function. Example:\n// ```js\n// const state_actions = {\n//   // state\n//   i: 0,\n//   // actions\n//   _: { add: (e, state)=> state.i++ },\n//   subCounter: {\n//     // nested state\n//     i: 0,\n//     // nested actions\n//     _: { add: (e, state)=> state.i++ },\n//   }\n// }\n// state = PlayFrame.statue(state_actions, requestIdleCallback, (state)=>\n//   console.log(state)\n// )\n// state._.add()\n// state.subCounter._.add()\n// // Will log on idle\n// // {i: 1, subCounter: {i: 1, _: {add}}, _: {add}}\n// ```\n\n// #### `PlayFrame.evolve(base, upgrade)`:\n// [`evolve`](https://github.com/playframe/evolve)\n// function for deep object extending. If any value in `upgrade` is a function it\n// will be called with existing value as an argument. Example:\n// ```js\n// const base = {\n//   i: 1,\n//   j: 2,\n//   onclick: (e)=>{}\n// }\n// const upgrade = {\n//   i: 10, // overwrite value\n//   j: (j)=> j * 2, // double existing value\n//   onclick: (onclick)=>(e)=> { // compose functions\n//     console.log('click')\n//     onclick(e); // original handler\n//   }\n// console.log(PlayFrame.evolve(base, upgrade))\n// // {i: 10, j: 4, onclick: loggedOnClick}\n// }\n// ```\n\n// #### `PlayFrame.sync.{next, catch, then, finally, render, frame}`:\n// Initialized instance of [OverSync](https://github.com/playframe/oversync) that\n// helps different parts of framework synchronize execution within the unified frame\n// rendering flow\n\n// ## Source\nvar app, h, router, statue, sync, use;\n\nsync = require('@playframe/oversync')(Date.now, requestAnimationFrame);\n\nexports.sync = sync;\n\nexports.Component = require('@playframe/component')(sync);\n\nexports.mount = require('@playframe/shadom')(sync);\n\nrouter = require('@playframe/router')(sync);\n\nexports.statue = statue = require('@playframe/statue');\n\nexports.evolve = require('@playframe/evolve');\n\nexports.app = app = (state_actions) => {\n  return (view) => {\n    return (container) => {\n      var state;\n      state_actions._ || (state_actions._ = {});\n      state = statue(state_actions, sync.finally, (state) => {\n        return container(view, state);\n      });\n      container(view, state);\n      return state;\n    };\n  };\n};\n\nexports.route = (state_actions) => {\n  return app(state_actions)(router);\n};\n\nexports.h = h = require('@playframe/h');\n\nexports.use = use = h.use;\n\nexports.reuse = (components) => {\n  var Component, k, purified;\n  purified = {};\n  for (k in components) {\n    Component = components[k];\n    purified[k] = (props) => {\n      var mkey;\n      mkey = props && props.mkey;\n      return Component(mkey && {mkey})(props);\n    };\n  }\n  use(purified);\n};\n"],"names":["evolve","statue","require$$0","require$$1","VNODE","h","isArray","_sync","doc","this","router","require$$2","require$$3","require$$4","require$$5","require$$6"],"mappings":"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"}